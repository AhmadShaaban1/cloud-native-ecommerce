# Prometheus Configuration
prometheus:
  prometheusSpec:
    # Retention
    retention: 15d
    retentionSize: "10GB"
    
    # Resources
    resources:
      requests:
        cpu: 200m
        memory: 512Mi
      limits:
        cpu: 500m
        memory: 1Gi
    
    # Storage with EBS
    storageSpec:
      volumeClaimTemplate:
        spec:
          storageClassName: ebs-sc
          accessModes: ["ReadWriteOnce"]
          resources:
            requests:
              storage: 10Gi
    
    # Service monitors
    serviceMonitorSelectorNilUsesHelmValues: false
    podMonitorSelectorNilUsesHelmValues: false

# Grafana Configuration
grafana:
  enabled: true
  
  # Admin credentials
  adminPassword: "admin123"
  
  # Service type - LoadBalancer for external access
  service:
    type: LoadBalancer
    annotations:
      service.beta.kubernetes.io/aws-load-balancer-type: "nlb"
  
  # Resources
  resources:
    requests:
      cpu: 100m
      memory: 256Mi
    limits:
      cpu: 200m
      memory: 512Mi
  
  # Persistence with EBS
  persistence:
    enabled: true
    storageClassName: ebs-sc
    size: 5Gi
  
  # Default dashboards
  defaultDashboardsEnabled: true
  
  # Additional datasources
  additionalDataSources: []

# Alertmanager Configuration
alertmanager:
  enabled: true
  
  alertmanagerSpec:
    resources:
      requests:
        cpu: 50m
        memory: 128Mi
      limits:
        cpu: 100m
        memory: 256Mi
    
    # Storage with EBS
    storage:
      volumeClaimTemplate:
        spec:
          storageClassName: ebs-sc
          accessModes: ["ReadWriteOnce"]
          resources:
            requests:
              storage: 2Gi

# Node Exporter
nodeExporter:
  enabled: true

# Kube State Metrics
kubeStateMetrics:
  enabled: true

# Disable admission webhooks (causing timeout)
prometheusOperator:
  admissionWebhooks:
    enabled: true
    patch:
      enabled: true